{"version":3,"sources":["components/Header/Header.jsx","components/Form/Form.jsx","components/Todo/Todo.jsx","components/TodoList/TodoList.jsx","components/ToggleAll/ToggleAll.jsx","components/Main/Main.jsx","components/Footer/Footer.jsx","App.js","hooks/useLocalStorage.js","index.js"],"names":["Header","props","className","Form","onAddTodo","useState","value","setValue","type","onChange","event","target","onKeyPress","e","key","trim","newTodo","id","Date","title","completed","placeholder","Todo","todo","onAddChecked","onRemoveTodo","onEditTitle","isEditing","setIsEditing","classNames","editing","checked","onDoubleClick","onClick","onBlur","modifiedTodo","onKeyDown","ref","input","focus","TodoList","todos","map","ToggleAll","onToggleTodos","pendingToDo","isChecked","setIsChecked","isFalse","useEffect","htmlFor","Main","length","Footer","quantity","onFilterTodos","onRemoveCompleted","sortedTodos","setSortedTodos","isCompleted","some","href","selected","defaultProps","App","defaultValue","JSON","parse","window","localStorage","getItem","state","setState","setItem","stringify","useLocalStorage","setNewTodo","renderedTodos","setRenderedTodos","filter","checkedTodos","item","currentState","filtered","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.45167150.chunk.js","sourcesContent":["import React from 'react';\n\nexport function Header(props) {\n  return (\n    <header className=\"header\">\n      <h1>todos</h1>\n    </header>\n  );\n}\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nexport function Form({ onAddTodo }) {\n  const [value, setValue] = useState('');\n  const handleInputValue = event => setValue(event.target.value);\n\n  const handleKeypress = (e) => {\n    if (e.key === 'Enter' && value.trim()) {\n      const newTodo = {\n        id: `${+new Date()}`,\n        title: value,\n        completed: false,\n      };\n\n      onAddTodo(newTodo);\n      setValue('');\n    }\n  };\n\n  return (\n    <form>\n      <input\n        type=\"text\"\n        value={value}\n        onChange={handleInputValue}\n        onKeyPress={handleKeypress}\n        className=\"new-todo\"\n        placeholder=\"What needs to be done?\"\n      />\n    </form>\n  );\n}\n\nForm.propTypes = {\n  onAddTodo: PropTypes.func.isRequired,\n};\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nexport function Todo({\n  todo,\n  onAddChecked,\n  onRemoveTodo,\n  onEditTitle,\n}) {\n  const { title, completed, id } = todo;\n  const [isEditing, setIsEditing] = useState(false);\n  const [value, setValue] = useState(todo.title);\n\n  const changeTitle = (event) => {\n    setValue(event.target.value);\n  };\n\n  const modifyTodo = () => {\n    if (!value) {\n      setValue(title);\n      setIsEditing(false);\n\n      return;\n    }\n\n    const modifiedTodo = {\n      ...todo,\n      title: value,\n    };\n\n    onEditTitle(modifiedTodo);\n    setIsEditing(false);\n  };\n\n  const checkPressedButton = (event) => {\n    if (event.key === 'Enter') {\n      setIsEditing(false);\n    }\n  };\n\n  const undoChanges = (e) => {\n    if (e.key === 'Escape') {\n      setValue(title);\n      setIsEditing(false);\n    }\n  };\n\n  const switchStateTodo = () => {\n    onAddChecked({\n      ...todo,\n      completed: !completed,\n    });\n  };\n\n  return (\n    <li className={classNames({\n      completed,\n      editing: isEditing,\n    })}\n    >\n      <div className=\"view\">\n        <input\n          type=\"checkbox\"\n          checked={completed}\n          onChange={switchStateTodo}\n          className=\"toggle\"\n        />\n        <label onDoubleClick={() => setIsEditing(true)}>\n          {title}\n        </label>\n        <button\n          type=\"button\"\n          className=\"destroy\"\n          onClick={() => onRemoveTodo(id)}\n        />\n      </div>\n      <input\n        type=\"text\"\n        className=\"edit\"\n        value={value}\n        onChange={changeTitle}\n        onBlur={modifyTodo}\n        onKeyPress={checkPressedButton}\n        onKeyDown={undoChanges}\n        ref={input => input && input.focus()}\n      />\n    </li>\n\n  );\n}\n\nTodo.propTypes = {\n  onAddChecked: PropTypes.func.isRequired,\n  onEditTitle: PropTypes.func.isRequired,\n  onRemoveTodo: PropTypes.func.isRequired,\n  todo: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n    completed: PropTypes.bool.isRequired,\n  }).isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Todo } from '../Todo';\n\nexport function TodoList({\n  todos,\n  onAddChecked,\n  onRemoveTodo,\n  onEditTitle,\n}) {\n  return (\n    <ul className=\"todo-list\">\n      {todos.map(todo => (\n        <Todo\n          key={todo.id}\n          todo={todo}\n          onAddChecked={onAddChecked}\n          onRemoveTodo={onRemoveTodo}\n          onEditTitle={onEditTitle}\n        />\n      ))}\n    </ul>\n  );\n}\n\nTodoList.propTypes = {\n  onAddChecked: PropTypes.func.isRequired,\n  onRemoveTodo: PropTypes.func.isRequired,\n  onEditTitle: PropTypes.func.isRequired,\n  todos: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      title: PropTypes.string.isRequired,\n      completed: PropTypes.bool.isRequired,\n    }),\n  ),\n};\n\nTodoList.defaultProps = {\n  todos: [],\n};\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nexport function ToggleAll({ onToggleTodos, pendingToDo }) {\n  const [isChecked, setIsChecked] = useState(false);\n  const isFalse = !pendingToDo;\n\n  useEffect(() => {\n    setIsChecked(isFalse);\n  }, [isFalse]);\n\n  const handleIsAllChecked = () => {\n    setIsChecked(!isChecked);\n    onToggleTodos(!isChecked);\n  };\n\n  return (\n    <>\n      <input\n        type=\"checkbox\"\n        onChange={handleIsAllChecked}\n        checked={isChecked}\n        id=\"toggle-all\"\n        className=\"toggle-all\"\n      />\n      <label htmlFor=\"toggle-all\">Mark all as complete</label>\n    </>\n  );\n}\n\nToggleAll.propTypes = {\n  onToggleTodos: PropTypes.func.isRequired,\n  pendingToDo: PropTypes.number.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { TodoList } from '../TodoList';\nimport { ToggleAll } from '../ToggleAll';\n\nexport function Main({\n  todos,\n  onAddChecked,\n  pendingToDo,\n  onToggleTodos,\n  onRemoveTodo,\n  onEditTitle,\n}) {\n  return (\n    <section className=\"main\">\n      {todos.length > 0\n        && (\n          <ToggleAll\n            pendingToDo={pendingToDo}\n            onToggleTodos={onToggleTodos}\n          />\n        )\n      }\n\n      {todos.length > 0\n        && (\n          <TodoList\n            todos={todos}\n            onAddChecked={onAddChecked}\n            onRemoveTodo={onRemoveTodo}\n            onEditTitle={onEditTitle}\n          />\n        )\n      }\n    </section>\n  );\n}\n\nMain.propTypes = {\n  pendingToDo: PropTypes.number.isRequired,\n  onToggleTodos: PropTypes.func.isRequired,\n  onAddChecked: PropTypes.func.isRequired,\n  onRemoveTodo: PropTypes.func.isRequired,\n  onEditTitle: PropTypes.func.isRequired,\n  todos: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      title: PropTypes.string.isRequired,\n      completed: PropTypes.bool.isRequired,\n    }),\n  ),\n};\n\nMain.defaultProps = {\n  todos: [],\n};\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nexport function Footer({\n  quantity,\n  onFilterTodos,\n  onRemoveCompleted,\n  todos,\n}) {\n  const [sortedTodos, setSortedTodos] = useState('all');\n  const isCompleted = todos.some(({ completed }) => completed);\n\n  const handleSortByAll = () => {\n    setSortedTodos('all');\n    onFilterTodos('all');\n  };\n\n  const handleSortByActive = () => {\n    setSortedTodos('active');\n    onFilterTodos('active');\n  };\n\n  const handleSortByCompleted = () => {\n    setSortedTodos('completed');\n    onFilterTodos('completed');\n  };\n\n  return (\n    <footer className=\"footer\">\n      <span className=\"todo-count\">\n        {`${quantity} items left`}\n      </span>\n\n      <ul className=\"filters\">\n        <li>\n          <a\n            href=\"#/\"\n            className={classNames(\n              { selected: sortedTodos === 'all' },\n            )}\n            onClick={handleSortByAll}\n          >\n            All\n          </a>\n        </li>\n\n        <li>\n          <a\n            href=\"#/active\"\n            className={classNames(\n              { selected: sortedTodos === 'active' },\n            )}\n            onClick={handleSortByActive}\n          >\n            Active\n          </a>\n        </li>\n\n        <li>\n          <a\n            href=\"#/completed\"\n            className={classNames(\n              { selected: sortedTodos === 'completed' },\n            )}\n            onClick={handleSortByCompleted}\n          >\n            Completed\n          </a>\n        </li>\n      </ul>\n\n      {isCompleted\n        && (\n          <button\n            type=\"button\"\n            className=\"clear-completed\"\n            onClick={onRemoveCompleted}\n          >\n            Clear completed\n          </button>\n        )\n      }\n    </footer>\n  );\n}\n\nFooter.propTypes = {\n  todos: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n    }),\n  ).isRequired,\n  quantity: PropTypes.number.isRequired,\n  onRemoveCompleted: PropTypes.func.isRequired,\n  onFilterTodos: PropTypes.func.isRequired,\n};\n","import React, { useEffect, useState } from 'react';\nimport { Header } from './components/Header';\nimport { Form } from './components/Form';\nimport { Main } from './components/Main';\nimport { Footer } from './components/Footer';\nimport { useLocalStorage } from './hooks/useLocalStorage';\n\nexport function App() {\n  const [todos, setNewTodo] = useLocalStorage('todos', []);\n  const [renderedTodos, setRenderedTodos] = useState([]);\n\n  useEffect(() => {\n    setRenderedTodos(todos);\n  }, [todos]);\n\n  const addNewTodo = todo => setNewTodo([...todos, todo]);\n\n  const handleCheckedTodos = (todo) => {\n    const checkedTodos = todos.map(\n      item => ((item.id === todo.id) ? todo : item),\n    );\n\n    setNewTodo(checkedTodos);\n  };\n\n  const pendingToDo = todos.filter(\n    todo => !todo.completed,\n  ).length;\n\n  const toggleAllTodos = (currentState) => {\n    setNewTodo(todos.map(todo => ({\n      ...todo,\n      completed: currentState,\n    })));\n  };\n\n  const handleFilterTodosByState = (currentState) => {\n    let filtered;\n\n    switch (currentState) {\n      case 'active':\n        filtered = todos.filter(todo => !todo.completed);\n        break;\n\n      case 'completed':\n        filtered = todos.filter(todo => todo.completed);\n        break;\n\n      default:\n        filtered = [...todos];\n    }\n\n    setRenderedTodos(filtered);\n  };\n\n  const handlerRemoveTodo = (id) => {\n    setNewTodo(todos.filter(todo => todo.id !== id));\n  };\n\n  const handlerRemoveCompletedTodos = () => {\n    setNewTodo(todos.filter(todo => !todo.completed));\n  };\n\n  const handlerEditTodoTitle = (modifiedTodo) => {\n    setNewTodo(todos.map(todo => (\n      todo.id === modifiedTodo.id ? modifiedTodo : todo\n    )));\n  };\n\n  return (\n    <section className=\"todoapp\">\n      <Header />\n      <Form onAddTodo={addNewTodo} />\n      <Main\n        todos={renderedTodos}\n        onAddChecked={handleCheckedTodos}\n        onRemoveTodo={handlerRemoveTodo}\n        pendingToDo={pendingToDo}\n        onToggleTodos={toggleAllTodos}\n        onEditTitle={handlerEditTodoTitle}\n      />\n      {todos.length > 0\n        && (\n          <Footer\n            quantity={pendingToDo}\n            onFilterTodos={handleFilterTodosByState}\n            onRemoveCompleted={handlerRemoveCompletedTodos}\n            todos={todos}\n          />\n        )\n      }\n    </section>\n  );\n}\n","import { useState, useEffect } from 'react';\n\nexport const useLocalStorage = (key, defaultValue) => {\n  const [state, setState] = useState(\n    () => JSON.parse(window.localStorage.getItem(key)) ?? defaultValue,\n  );\n\n  useEffect(() => {\n    window.localStorage.setItem(key, JSON.stringify(state));\n  }, [state, key]);\n\n  return [state, setState];\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './styles/index.css';\nimport './styles/todo-list.css';\nimport './styles/filters.css';\n\nimport { App } from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}