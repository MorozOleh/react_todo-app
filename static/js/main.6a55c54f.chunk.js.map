{"version":3,"sources":["components/Header/Header.jsx","components/Form/Form.jsx","components/Todo/Todo.jsx","components/TodoList/TodoList.jsx","components/ToggleAll/ToggleAll.jsx","components/Main/Main.jsx","components/Footer/Footer.jsx","App.js","hooks/useLocalStorage.js","index.js"],"names":["Header","props","className","Form","onAddTodo","useState","value","setValue","type","onChange","event","target","onKeyPress","keyPressEvent","key","trim","newTodo","id","Date","title","completed","placeholder","Todo","todo","onAddChecked","onRemoveTodo","onEditTitle","isEditing","setIsEditing","classNames","editing","checked","onDoubleClick","onClick","onBlur","modifiedTodo","onKeyDown","ref","input","focus","TodoList","todos","map","ToggleAll","onToggleTodos","activeTodos","isChecked","setIsChecked","isFalse","useEffect","htmlFor","Main","length","Footer","onFilterTodos","onRemoveCompleted","sortedTodos","setSortedTodos","isCompleted","some","handleSortByState","currentState","href","selected","defaultProps","App","defaultValue","JSON","parse","window","localStorage","getItem","state","setState","setItem","stringify","useLocalStorage","setNewTodo","renderedTodos","setRenderedTodos","addNewTodo","useCallback","handleCheckedTodos","checkedTodos","item","filter","toggleAllTodos","handleFilterTodosByState","handlerRemoveTodo","handlerRemoveCompletedTodos","handlerEditTodoTitle","pendingToDo","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6a55c54f.chunk.js","sourcesContent":["import React from 'react';\n\nexport function Header(props) {\n  return (\n    <header className=\"header\">\n      <h1>todos</h1>\n    </header>\n  );\n}\n","\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nexport function Form({ onAddTodo }) {\n  const [value, setValue] = useState('');\n  const handleInputValue = event => setValue(event.target.value);\n\n  const handleKeypress = (keyPressEvent) => {\n    if (keyPressEvent.key === 'Enter' && value.trim()) {\n      const newTodo = {\n        id: `${+new Date()}`,\n        title: value,\n        completed: false,\n      };\n\n      onAddTodo(newTodo);\n      setValue('');\n    }\n  };\n\n  return (\n    <form>\n      <input\n        type=\"text\"\n        value={value}\n        onChange={handleInputValue}\n        onKeyPress={handleKeypress}\n        className=\"new-todo\"\n        placeholder=\"What needs to be done?\"\n      />\n    </form>\n  );\n}\n\nForm.propTypes = {\n  onAddTodo: PropTypes.func.isRequired,\n};\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nexport function Todo({\n  todo,\n  onAddChecked,\n  onRemoveTodo,\n  onEditTitle,\n}) {\n  const { title, completed, id } = todo;\n  const [isEditing, setIsEditing] = useState(false);\n  const [value, setValue] = useState(todo.title);\n\n  const changeTitle = (event) => {\n    setValue(event.target.value);\n  };\n\n  const modifyTodo = () => {\n    if (!value) {\n      setValue(title);\n      setIsEditing(false);\n\n      return;\n    }\n\n    const modifiedTodo = {\n      ...todo,\n      title: value,\n    };\n\n    onEditTitle(modifiedTodo);\n    setIsEditing(false);\n  };\n\n  const checkPressedButton = (event) => {\n    if (event.key === 'Enter') {\n      setIsEditing(false);\n    }\n  };\n\n  const undoChanges = (event) => {\n    if (event.key === 'Escape') {\n      setValue(title);\n      setIsEditing(false);\n    }\n  };\n\n  const switchStateTodo = () => {\n    onAddChecked({\n      ...todo,\n      completed: !completed,\n    });\n  };\n\n  return (\n    <li className={classNames({\n      completed,\n      editing: isEditing,\n    })}\n    >\n      <div className=\"view\">\n        <input\n          type=\"checkbox\"\n          checked={completed}\n          onChange={switchStateTodo}\n          className=\"toggle\"\n        />\n        <label onDoubleClick={() => setIsEditing(true)}>\n          {title}\n        </label>\n        <button\n          type=\"button\"\n          className=\"destroy\"\n          onClick={() => onRemoveTodo(id)}\n        />\n      </div>\n      <input\n        type=\"text\"\n        className=\"edit\"\n        value={value}\n        onChange={changeTitle}\n        onBlur={modifyTodo}\n        onKeyPress={checkPressedButton}\n        onKeyDown={undoChanges}\n        ref={input => input && input.focus()}\n      />\n    </li>\n\n  );\n}\n\nTodo.propTypes = {\n  onAddChecked: PropTypes.func.isRequired,\n  onEditTitle: PropTypes.func.isRequired,\n  onRemoveTodo: PropTypes.func.isRequired,\n  todo: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n    completed: PropTypes.bool.isRequired,\n  }).isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Todo } from '../Todo';\n\nexport function TodoList({\n  todos,\n  onAddChecked,\n  onRemoveTodo,\n  onEditTitle,\n}) {\n  return (\n    <ul className=\"todo-list\">\n      {todos.map(todo => (\n        <Todo\n          key={todo.id}\n          todo={todo}\n          onAddChecked={onAddChecked}\n          onRemoveTodo={onRemoveTodo}\n          onEditTitle={onEditTitle}\n        />\n      ))}\n    </ul>\n  );\n}\n\nTodoList.propTypes = {\n  onAddChecked: PropTypes.func.isRequired,\n  onRemoveTodo: PropTypes.func.isRequired,\n  onEditTitle: PropTypes.func.isRequired,\n  todos: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      title: PropTypes.string.isRequired,\n      completed: PropTypes.bool.isRequired,\n    }),\n  ),\n};\n\nTodoList.defaultProps = {\n  todos: [],\n};\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nexport function ToggleAll({ onToggleTodos, activeTodos }) {\n  const [isChecked, setIsChecked] = useState(false);\n  const isFalse = !activeTodos;\n\n  useEffect(() => {\n    setIsChecked(isFalse);\n  }, [isFalse]);\n\n  const handleIsAllChecked = () => {\n    setIsChecked(!isChecked);\n    onToggleTodos(!isChecked);\n  };\n\n  return (\n    <>\n      <input\n        type=\"checkbox\"\n        onChange={handleIsAllChecked}\n        checked={isChecked}\n        id=\"toggle-all\"\n        className=\"toggle-all\"\n      />\n      <label htmlFor=\"toggle-all\">Mark all as complete</label>\n    </>\n  );\n}\n\nToggleAll.propTypes = {\n  onToggleTodos: PropTypes.func.isRequired,\n  activeTodos: PropTypes.number.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { TodoList } from '../TodoList';\nimport { ToggleAll } from '../ToggleAll';\n\nexport function Main({\n  todos,\n  onAddChecked,\n  activeTodos,\n  onToggleTodos,\n  onRemoveTodo,\n  onEditTitle,\n}) {\n  return (\n    <section className=\"main\">\n      {todos.length > 0\n        && (\n          <ToggleAll\n            activeTodos={activeTodos}\n            onToggleTodos={onToggleTodos}\n          />\n        )\n      }\n\n      {todos.length > 0\n        && (\n          <TodoList\n            todos={todos}\n            onAddChecked={onAddChecked}\n            onRemoveTodo={onRemoveTodo}\n            onEditTitle={onEditTitle}\n          />\n        )\n      }\n    </section>\n  );\n}\n\nMain.propTypes = {\n  activeTodos: PropTypes.number.isRequired,\n  onToggleTodos: PropTypes.func.isRequired,\n  onAddChecked: PropTypes.func.isRequired,\n  onRemoveTodo: PropTypes.func.isRequired,\n  onEditTitle: PropTypes.func.isRequired,\n  todos: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      title: PropTypes.string.isRequired,\n      completed: PropTypes.bool.isRequired,\n    }),\n  ),\n};\n\nMain.defaultProps = {\n  todos: [],\n};\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nexport function Footer({\n  activeTodos,\n  onFilterTodos,\n  onRemoveCompleted,\n  todos,\n}) {\n  const [sortedTodos, setSortedTodos] = useState('all');\n  const isCompleted = todos.some(({ completed }) => completed);\n\n  const handleSortByState = (currentState) => {\n    setSortedTodos(currentState);\n    onFilterTodos(currentState);\n  };\n\n  return (\n    <footer className=\"footer\">\n      <span className=\"todo-count\">\n        {`${activeTodos} items left`}\n      </span>\n\n      <ul className=\"filters\">\n        <li>\n          <a\n            href=\"#/\"\n            className={classNames(\n              { selected: sortedTodos === 'all' },\n            )}\n            onClick={() => handleSortByState('all')}\n          >\n            All\n          </a>\n        </li>\n\n        <li>\n          <a\n            href=\"#/active\"\n            className={classNames(\n              { selected: sortedTodos === 'active' },\n            )}\n            onClick={() => handleSortByState('active')}\n          >\n            Active\n          </a>\n        </li>\n\n        <li>\n          <a\n            href=\"#/completed\"\n            className={classNames(\n              { selected: sortedTodos === 'completed' },\n            )}\n            onClick={() => handleSortByState('completed')}\n          >\n            Completed\n          </a>\n        </li>\n      </ul>\n\n      {isCompleted\n        && (\n          <button\n            type=\"button\"\n            className=\"clear-completed\"\n            onClick={onRemoveCompleted}\n          >\n            Clear completed\n          </button>\n        )\n      }\n    </footer>\n  );\n}\n\nFooter.propTypes = {\n  todos: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n    }),\n  ).isRequired,\n  activeTodos: PropTypes.number.isRequired,\n  onRemoveCompleted: PropTypes.func.isRequired,\n  onFilterTodos: PropTypes.func.isRequired,\n};\n","import React, { useEffect, useState, useCallback } from 'react';\nimport { Header } from './components/Header';\nimport { Form } from './components/Form';\nimport { Main } from './components/Main';\nimport { Footer } from './components/Footer';\nimport { useLocalStorage } from './hooks/useLocalStorage';\n\nexport function App() {\n  const [todos, setNewTodo] = useLocalStorage('todos', []);\n  const [renderedTodos, setRenderedTodos] = useState([]);\n\n  useEffect(() => {\n    setRenderedTodos(todos);\n  }, [todos]);\n\n  const addNewTodo = useCallback(todo => setNewTodo([...todos, todo]), [todos]);\n\n  const handleCheckedTodos = useCallback((todo) => {\n    const checkedTodos = todos.map(\n      item => ((item.id === todo.id) ? todo : item),\n    );\n\n    setNewTodo(checkedTodos);\n  }, [todos]);\n\n  const activeTodos = todos.filter(\n    todo => !todo.completed,\n  ).length;\n\n  const toggleAllTodos = useCallback((currentState) => {\n    setNewTodo(todos.map(todo => ({\n      ...todo,\n      completed: currentState,\n    })));\n  }, [todos]);\n\n  const handleFilterTodosByState = useCallback((currentState) => {\n    switch (currentState) {\n      case 'active':\n        setRenderedTodos(todos.filter(todo => !todo.completed));\n        break;\n\n      case 'completed':\n        setRenderedTodos(todos.filter(todo => todo.completed));\n        break;\n\n      default:\n        setRenderedTodos([...todos]);\n    }\n  }, [todos]);\n\n  const handlerRemoveTodo = useCallback((id) => {\n    setNewTodo(todos.filter(todo => todo.id !== id));\n  }, [todos]);\n\n  const handlerRemoveCompletedTodos = useCallback(() => {\n    setNewTodo(todos.filter(todo => !todo.completed));\n  }, [todos]);\n\n  const handlerEditTodoTitle = useCallback((modifiedTodo) => {\n    setNewTodo(todos.map(todo => (\n      todo.id === modifiedTodo.id ? modifiedTodo : todo\n    )));\n  }, [todos]);\n\n  return (\n    <section className=\"todoapp\">\n      <Header />\n      <Form onAddTodo={addNewTodo} />\n      <Main\n        todos={renderedTodos}\n        onAddChecked={handleCheckedTodos}\n        onRemoveTodo={handlerRemoveTodo}\n        pendingToDo={activeTodos}\n        activeTodos={activeTodos}\n        onToggleTodos={toggleAllTodos}\n        onEditTitle={handlerEditTodoTitle}\n      />\n      {todos.length > 0\n        && (\n          <Footer\n            activeTodos={activeTodos}\n            onFilterTodos={handleFilterTodosByState}\n            onRemoveCompleted={handlerRemoveCompletedTodos}\n            todos={todos}\n          />\n        )\n      }\n    </section>\n  );\n}\n","import { useState, useEffect } from 'react';\n\nexport const useLocalStorage = (key, defaultValue) => {\n  const [state, setState] = useState(\n    () => JSON.parse(window.localStorage.getItem(key)) ?? defaultValue,\n  );\n\n  useEffect(() => {\n    window.localStorage.setItem(key, JSON.stringify(state));\n  }, [state, key]);\n\n  return [state, setState];\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './styles/index.css';\nimport './styles/todo-list.css';\nimport './styles/filters.css';\n\nimport { App } from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}